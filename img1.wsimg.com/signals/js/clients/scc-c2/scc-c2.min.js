!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("scc-c2",[],e):"object"==typeof exports?exports["scc-c2"]=e():t["scc-c2"]=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{_bindLogger:()=>E,_isDebug:()=>S,debug:()=>I,error:()=>T,info:()=>k,log:()=>k,setDebug:()=>P,warn:()=>C});var n={};t.r(n),t.d(n,{cmdLogEvent:()=>Ai,cmdLogPerf:()=>Di});var r,o,i,a,u,c,f=(r="",i={document:o=Object.create({get cookie(){return r},set cookie(t){r=t}})},a={},"undefined"==typeof window?{window:i,document:o,navigator:a}:{window:window||i,document:window.document||o,navigator:navigator||a}),s=function(){return f.window},l=function(){return f.document},p=function(){return f.navigator},y=function(){var t=s().location;return t&&t.hostname?t.hostname:""},b=function(){var t=y(),e=t.split("."),n=e.length;return n>2&&(t="".concat(e[n-2],".").concat(e[n-1]),2!==e[n-2].length&&3!==e[n-2].length||2!==e[n-1].length||(t="".concat(e[n-3],".").concat(t))),t},v=function(t,e){var n=x("config")[t];if(n&&e)return n[e]},d=[{name:"EMAIL",regex:/[^@^=]+@[^@]+\.[^@^&]+/}],m=function(t,e){if("string"!=typeof t)return t;for(var n=t,r=0;r<d.length;r++)for(var o=d[r].regex,i=n.match(o);i&&i[0];)i=(n=n.replace(i[0],"REDACTED")).match(o);return n},h=function(t,e){if(void 0===t)return t;void 0===e&&(e=2);for(var n=String(t);n.length<e;)n="0"+n;return n},g=function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||void 0!==t)return!0===t||1===t||"string"==typeof t&&("true"===t.toLowerCase()||"1"===t)},w=function(t){var e=parseInt(t,10);if(!isNaN(e))return e},O=function(t){return/^-?\d+$/.test(t)},j=function(t){var e;return(t=t||(null===(e=s())||void 0===e||null===(e=e.location)||void 0===e?void 0:e.search))?("?"===t.substr(0,1)&&(t=t.substring(1)),t.split("&")):[]},_=function(t,e,n){for(var r=j(n),o=r.length-1;o>=0;o--){var i=r[o].split("=");if(e){if((i[0]+"").toLowerCase()===(t+"").toLowerCase())return i[1]}else if(i[0]===t)return i[1]}},S=!1,P=function(t){S=!0===t||"true"===t},E=function(t){var e=s().console;return"true"===_("scc_debug",!0)&&P(!0),S&&e&&e[t]?Function.prototype.bind?Function.prototype.bind.call(e[t],e):function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Function.prototype.apply.call(e[t],e,r)}:function(){}},k=E("log"),T=E("error"),C=E("warn"),I=function(){if(S){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];k.apply(null,e)}},x=function(t){if(s()[c])return s()[c][t]},R=function(t,e){s()[c]&&(s()[c][t]=e)},L=function(t,e){s()[t]=e,R(t,e)};function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t,e,n){return(e=function(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}var M=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];try{if(e(n,r))return t}catch(t){}}return t},F=function(){for(var t={},e=0;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];"object"===B(n)&&M(n,(function(e,n){t[e]=n}))}return t},q=function(t){for(var e in t)void 0===t[e]?delete t[e]:"object"===B(t[e])&&(q(t[e]),0===Object.keys(t[e]).length&&delete t[e]);return t},U=function(t){if(2===t.length)return t[1]},N=function(t,e,n){if("string"!=typeof t)return{};for(var r={},o=t.split(e),i=0;i<o.length;i++){var a=o[i].split(n);r[a[0]]=U(a)}return r},V=function(t,e,n){var r=[];return M(t,(function(t,e){r.push("".concat(t).concat(n).concat(e))})),0===r.length?"":r.join(e)},K=function(t,e){return e&&(t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),Object.keys(t).forEach((function(n){if("object"===B(t[n])){var r=K(t[n],e);e&&(t[n]=r)}})),Object.freeze(t)},G=function(){return function(t){var e=t.getUTCFullYear()+"-"+h(t.getUTCMonth()+1);if(e+="-"+h(t.getUTCDate())+"T"+h(t.getUTCHours())+":",e+=h(t.getUTCMinutes())+":"+h(t.getUTCSeconds()),t.getUTCMilliseconds){var n=t.getUTCMilliseconds();O(n)&&(e+="."+String((n/1e3).toFixed(3)).slice(2,5))}return e+"Z"}(new Date)},H=function(t){return"[object Array]"===Object.prototype.toString.call(t)},z=function(t,e){H(t)&&t.push({timestamp:G(),data:e})};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t,e,n){return(e=Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z(r.key),r)}}function Z(t){var e=function(t){if("object"!=W(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==W(e)?e:e+""}const X=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.properties=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):{}}return e=t,(n=[{key:"clear",value:function(){this.properties={}}},{key:"get",value:function(t){if(this.properties.hasOwnProperty(t))return this.properties[t]}},{key:"set",value:function(t,e){this.properties[t]=e}},{key:"isSet",value:function(t){if(this.properties.hasOwnProperty(t))return!0}},{key:"delete",value:function(t){delete this.properties[t]}},{key:"getProperties",value:function(t){var e={},n=function(){return!1};return t||"function"!=typeof t||(n=t),M(this.properties,(function(t,r){n(t)||(e[t]=r)})),e}},{key:"merge",value:function(e){var n=this,r=e;r instanceof t&&(r=e.getProperties()),M(r,(function(t,e){n.set(t,e)}))}}])&&J(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();var Y,tt={},et={"first-paint":"fp","first-contentful-paint":"fcp"},nt=["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","navigationStart","requestStart","responseEnd","responseStart","loadEventStart","loadEventEnd"],rt=["transferSize","encodedBodySize","decodedBodySize"],ot=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r],i=t[o];void 0!==i&&(n[o]=Math.round(i))}return n},it=function(t){return ot(t,nt)},at=function(t){return ot(t,rt)},ut=function(t,e){var n=new X;"tcc"===t&&n.set("tccin",e||"na");try{(Y=s().performance)&&Y.timing?(function(t){if(t.merge(it(Y.timing)),Y.getEntriesByName){var e=Y.getEntriesByName(l().location.href)[0];if(!e&&Y.getEntriesByType){var n=Y.getEntriesByType("navigation");e=n[n.length-1]}e&&(t.merge(at(e)),t.set("navigationType",e.type))}}(n),"tcc"===t&&(function(t){if(Y.getEntriesByType){var e=Y.getEntriesByType("mark");if(H(e)){t.set("marks",e.slice(0,10).map((function(t){return{name:t.name,startTime:Math.round(t.startTime)}})));var n=Y.getEntriesByType("measure");H(n)&&t.set("measures",n.slice(0,10).map((function(t){return{name:t.name,duration:Math.round(t.duration)}})))}}}(n),function(t){if(Y.getEntriesByType){var e=Y.getEntriesByType("paint");e&&e.forEach((function(e){t.set(et[e.name],Math.round(e.startTime))}))}}(n))):("tcc"===t&&n.set("tccperfapi","not supported"),T("Error loading performance lib"))}catch(t){T("_collect unable to get performance data",t)}return n.getProperties()},ct=function(t,e,n){setTimeout((function(){s()._expDataLayer=s()._expDataLayer||[],s()._expDataLayer.push({schema:"add_perf",version:"v1",data:"tcc"===t?{type:"pageperf",properties:F(e,tt,{nav_type:"hard"}),custom_properties:n}:{timing_object:F(e,tt),is_hard_navigation:!0,custom_properties:n}})}),0)},ft=function(){return!(Y=s().performance)||!Y.timing||Y.timing.loadEventStart>0},st=!1;function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yt(r.key),r)}}function yt(t){var e=function(t){if("object"!=lt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lt(e)?e:e+""}var bt=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loaded=!1,this._onLoadFns=[],e?this._loaded=!0:n(this._triggerOnLoad.bind(this))},e=[{key:"_executeFn",value:function(t){try{t()}catch(e){T("Exception while executing onLoad callback",t,e)}}},{key:"_triggerOnLoad",value:function(){this._loaded=!0;for(var t=0;t<this._onLoadFns.length;t++)this._executeFn(this._onLoadFns[t])}},{key:"registerOnLoadFn",value:function(t){(function(t){return t&&"[object Function]"==={}.toString.call(t)})(t)&&(this._loaded?this._executeFn(t):this._onLoadFns.push(t))}}],e&&pt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),vt=s().Request,dt=vt&&"keepalive"in new vt(""),mt=void 0!==p().sendBeacon,ht=function(t,e,n,r){var o=s().XMLHttpRequest;if(o){var i=new o;i.open(e,t,!0),M(r,(function(t,e){i.setRequestHeader(t,e)})),i.send(n)}};function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(t,e)||Ot(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(t,e){if(t){if("string"==typeof t)return jt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(t,e):void 0}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,St(r.key),r)}}function St(t){var e=function(t){if("object"!=gt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gt(e)?e:e+""}const Pt=function(){return t=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._eventQueue=[],this._sendBatchCallback=e,this._maxEvents=r,this._isFlushing=!1,this._bindHandlers(),this._processInterval=setInterval((function(){n._sendBatch()}),250)},(e=[{key:"_bindHandlers",value:function(){var t=this,e=this._hidePage.bind(this),n=this._showPage.bind(this),r=s().attachEvent,o=s().addEventListener;o?(o("beforeunload",e,!1),o("pagehide",e,!1),o("pageshow",n,!1)):r&&(r("beforeunload",e),r("pagehide",e),r("pageshow",n));var i=l(),a=i.addEventListener;a&&a("visibilitychange",function(){"hidden"===i.visibilityState&&t._hidePage(),"visible"===i.visibilityState&&t._showPage()}.bind(this))}},{key:"_hidePage",value:function(){for(this._isFlushing=!0;this._eventQueue.length>0;)this._sendBatch()}},{key:"_showPage",value:function(){this._isFlushing=!1}},{key:"_sendRequests",value:function(t){var e=this;Object.entries(t).forEach((function(t){var n=wt(t,2),r=n[0],o=n[1];try{var i=wt(r.split("|"),2),a=i[0],u={schemaId:i[1],data:[]};Object.values(o).forEach((function(t){if(t.events.length>10)for(var e=t.events.length/10,n=0;n<e;n++)u.data.push(F(t,{events:t.events.slice(10*n,10*n+10)}));else u.data.push(t)})),e._sendBatchCallback(u,{apiKey:a,isFlushing:e._isFlushing})}catch(t){T("Failed to send request: ".concat(t))}}))}},{key:"pushEvent",value:function(t,e){e||!dt&&!mt||this._isFlushing?this._sendBatch(t):this._eventQueue.push(t)}},{key:"_getRequestBatch",value:function(t,e,n){var r=n.apiKey,o=n.schemaId,i=n.global,a=n.contextVersion,u=n.businessContext,c="".concat(r,"|").concat(o),f=t[c]||{};t[c]=f;var s=0;u&&(e.push(u),s=e.length);var l="".concat(a,"|").concat(s);return{batch:f[l]||{global:i,businessContext:u,events:[]},batchKey:l,request:f}}},{key:"_processEvent",value:function(t,e,n){var r,o=this._getRequestBatch(t,e,n),i=o.batch,a=o.batchKey,u=o.request;return(r=i.events).push.apply(r,function(t){return function(t){if(Array.isArray(t))return jt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ot(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.events.slice(0,this._maxEvents))),n.events.length>this._maxEvents&&this.pushEvent(F(n,{events:n.events.slice(this._maxEvents)})),u[a]=i,Math.min(n.events.length,this._maxEvents)}},{key:"_sendBatch",value:function(t){var e=0,n={},r=[];for(t&&(e+=this._processEvent(n,r,t));this._eventQueue.length>0&&e<this._maxEvents;)e+=this._processEvent(n,r,this._eventQueue.shift());this._sendRequests(n)}}])&&_t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();var Et,kt="_eventBusSendLog",Tt=function(t,e){var n=e.apiKey,r=e.isFlushing;!function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.queryParams,i=r.payload,a=r.requestHeaders,u=r.credentials,c=r.sendAsBeacon,f=void 0!==c&&c,l=F({},a),y=i?JSON.stringify(i):null;if(f&&mt&&!l.Authorization&&"POST"===e)try{var b=s().Blob;p().sendBeacon(t,new b([y],l))}catch(n){ht(t,e,y,l)}else!function(t,e,n,r,o){var i=s().fetch;dt&&i?i(t,{keepalive:!0,method:e,headers:r,body:n,credentials:o}).catch((function(o){ht(t,e,n,r)})):ht(t,e,n,r)}(t,e,y,l,u);!function(t,e,n,r,o){var i={endpoint:e,queryParams:n,method:r,payload:o};z(x(t),i)}(n,t,o,e,i)}("".concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://".concat(t?t+".":"").concat(function(){if(u)return u;var t=b();if("secureserver.net"===(t=function(t){var e=t||b();return e.indexOf("godaddy.com")>=0||e.indexOf("secureserver.net")>=0}(t)?t:"secureserver.net")){var e=v("build","env");t="prod"===e?t:"".concat(e,"-").concat(t)}return u=t}())}("csp"),"/eventbus/web?clientid=").concat(n),"POST",kt,{payload:t,sendAsBeacon:r})};function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xt(r.key),r)}}function xt(t){var e=function(t){if("object"!=Ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ct(e)?e:e+""}function Rt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rt=function(){return!!t})()}function Lt(t,e,n,r){var o=At(Dt(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function At(){return At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Dt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},At.apply(null,arguments)}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}var Mt=function(t){try{return JSON.parse(t)}catch(t){return{}}};const Ft=new(function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e,n){return e=Dt(e),function(t,e){if(e&&("object"==Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rt()?Reflect.construct(e,n||[],Dt(t).constructor):e.apply(t,n))}(this,e,[t]))._updateWindow(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(e,t),n=e,(r=[{key:"_updateWindow",value:function(){R("config",K(this.properties,!0))}},{key:"set",value:function(t,n){Lt(e,"set",this,3)([t,n]),this._updateWindow()}},{key:"merge",value:function(t){Lt(e,"merge",this,3)([t]),this._updateWindow()}}])&&It(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(X))({build:{env:"prod",date:"2025-05-13T22:17:31.602Z"},client:{name:"scc-c2",version:"1.2.0",hash:"c9d32f642ac5546d1af6d9f647cfc876cc26ed18"},cookie:{sameSite:"none"},site:{privateLabelId:""},sGtm:{enabled:g(""),whitelist:Mt(""),account:"",host:""},ga:{account:""},wGtm:{account:"",enableProxy:g(""),enabled:g(""),requireGoogleClientId:g(""),whitelist:Mt("")},eventBus:{enabled:g("true"),sccApiKey:"b18ef4f046435b64a469b32c3c1c20a3",rigorApiKey:"8da2217409854bee82e12dc4ca0b39fb"},clickListener:{enabled:!0,navDelayMs:75},timing:{auto:!0},webVitals:{enabled:!0,url:""},consent:{delayMs:500},cdep:{appId:""}});var qt,Ut,Nt,Vt=function(t,e){var n=Ft.get(t);return e?n?n[e]:void 0:n},Kt=function(t,e,n){var r=Ft.get(t),o=r||{};r||Ft.set(t,o),o[e]=n};function Gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ht,zt,Wt=[],$t={},Qt=0,Jt=function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Gt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(Ht);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.startsWith("".concat(r,".")))return!1}}catch(t){n.e(t)}finally{n.f()}return!0},Zt=function(t,e){"debug"===t&&P(e)},Xt=function(){var t,e,n=function(){for(var t={},e=0;e<Ut.length;e++){var n=Ut[e];M(n,(function(e,n){-1===zt.indexOf(e.toLowerCase())&&(Zt(e,n),Jt(e)||(t[e]=n))}))}return t}();e={identity:{realm:(t=n)["".concat(qt,".realm")]},site:{privateLabelId:t["".concat(qt,".privateLabelId")]},timing:{auto:!g(t["".concat(qt,".manualPagePerf")],!1)},page:{spa:t["".concat(qt,".spa")],id:t["".concat(qt,".pageId")],contentGroup:t["".concat(qt,".gaContentGroup")]||t["".concat(qt,".contentGroup")],referrerExclusion:t["".concat(qt,".referrerExclusion")]},cookie:{sameSite:t["".concat(qt,".cookies.sameSite")]},wGtm:{enabled:g(t["".concat(qt,".webGtmEnabled")],!1)},clickListener:{enabled:!g(t["".concat(qt,".listenerDisabled")],!1),navDelayMs:t["".concat(qt,".eventDelayMs")]}},Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];void 0!==r&&Kt(t,n,r)}))})),Ft.merge(n),z(Wt,n)};const Yt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let te;const ee=new Uint8Array(16);function ne(){if(!te&&(te="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return te(ee)}const re=[];for(let t=0;t<256;++t)re.push((t+256).toString(16).slice(1));const oe=function(t,e,n){if(Yt.randomUUID&&!e&&!t)return Yt.randomUUID();const r=(t=t||{}).random||(t.rng||ne)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return re[t[e+0]]+re[t[e+1]]+re[t[e+2]]+re[t[e+3]]+"-"+re[t[e+4]]+re[t[e+5]]+"-"+re[t[e+6]]+re[t[e+7]]+"-"+re[t[e+8]]+re[t[e+9]]+"-"+re[t[e+10]]+re[t[e+11]]+re[t[e+12]]+re[t[e+13]]+re[t[e+14]]+re[t[e+15]]}(r)};var ie=function(){return oe()};function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fe(r.key),r)}}function fe(t){var e=function(t){if("object"!=ae(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ae(e)?e:e+""}var se=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataLayerNames=e,this.dataLayerLog=[],this.asyncCommands=[],this.loaded=!1,this.dataLayers=[],this.dataLayerNames.forEach((function(t){var e,r=s()[t];H(r)&&(e=n.asyncCommands).push.apply(e,function(t){return function(t){if(Array.isArray(t))return ue(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ue(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r)),L(t,n),n.dataLayers.push(r)}))},(e=[{key:"start",value:function(){this.loadAsyncCommands()}},{key:"pushLog",value:function(t){z(this.dataLayerLog,t)}},{key:"process",value:function(){}},{key:"push",value:function(t){this.loaded?this.process(t):this.asyncCommands.push(t)}},{key:"loadAsyncCommands",value:function(){for(;this.asyncCommands.length>0;)this.process(this.asyncCommands.shift());this.loaded=!0}}])&&ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,de(r.key),r)}}function ve(t,e,n){return e&&be(t.prototype,e),n&&be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function de(t){var e=function(t){if("object"!=pe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==pe(e)?e:e+""}var me=function(){return ve((function t(e,n){if(ye(this,t),!e)throw"Missing version definitions";this._versionedDefinitions=e,this._interfaceType=n}),[{key:"getInterface",value:function(t,e){var n=this._versionedDefinitions[e];if(n)return n}}])}(),he=function(){return ve((function t(e){if(ye(this,t),!e)throw"Missing type definitions";this._typeVersionDefinitionMap=e}),[{key:"getInterface",value:function(t,e,n){var r=this._typeVersionDefinitionMap[n];if(r)return r.getInterface(t,e)}}])}(),ge={},we=function(t){for(var e=function(){var t,e,o=(t=r[n],e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return le(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];if(H(a)){var u={};a.forEach((function(t){var e={};Object.keys(t).forEach((function(n){"type"!==n&&(e[n]=t[n])})),u[t.type]=new me(e,t.type)})),ge[i]=new he(u)}else ge[i]=new me(a)},n=0,r=Object.entries(t);n<r.length;n++)e()},Oe="string",je=/^([\w-]+)$/,_e=/^([\w/-]+)$/,Se="OPTIONAL",Pe="REQUIRED",Ee="map";function ke(t,e,n){return e=xe(e),function(t,e){if(e&&("object"==Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Te()?Reflect.construct(e,n||[],xe(t).constructor):e.apply(t,n))}function Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Te=function(){return!!t})()}function Ce(t,e,n,r){var o=Ie(xe(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Ie(){return Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ie.apply(null,arguments)}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}function Re(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Me(r.key),r)}}function Be(t,e,n){return e&&De(t.prototype,e),n&&De(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Me(t){var e=function(t){if("object"!=Fe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fe(e)?e:e+""}function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}var qe=function(t,e,n){var r;if("CALCULATED"!==e._fieldType){var o=t[e.name];"sub"===e._resolutionType&&(o=t),r=e.parse(o)}var i=Fe(e.transformFn);if("undefined"!==i){var a=H(e.transformFn);if("function"===i||a)for(var u=a?e.transformFn:[e.transformFn],c=0;c<u.length;c++)r=u[c](r,n);else r=e.transformFn}return e._outputType&&e._outputType===Oe&&(r=r.toString()),r},Ue=function(){return Be((function t(e){Ae(this,t),this.name=e,this.properties=[],this.definitionType="",this._outputType,this._resolutionType=Ee,this._fieldType=Se,this.outputKey,this.allowedValuesList=[]}),[{key:"parse",value:function(t){if(this.validate(t),this._fieldType!==Se||t||"boolean"==typeof t||0===t){for(var e=new X,n=0;n<this.properties.length;n++){var r=this.properties[n],o=qe(t,r,e.getProperties());r._resolutionType===Ee?e.set(r.outputKey||r.name,o):e.merge(o)}return e.getProperties()}}},{key:"validate",value:function(t){if(this._fieldType===Pe&&!t&&"boolean"!=typeof t&&0!==t)throw"Missing required property '".concat(this.name,"'");if(this.allowedValuesList.length>0&&!this.allowedValuesList.includes(t))throw"Input '".concat(t,"' for property '").concat(this.name,"' is not one of the allowed values (").concat(this.allowedValuesList,").")}},{key:"optional",value:function(){return this._fieldType=Se,this}},{key:"required",value:function(){return this._fieldType=Pe,this}},{key:"stringify",value:function(){for(var t=new X,e=0;e<this.properties.length;e++){var n=this.properties[e];t.merge(n.stringify())}return t.getProperties()}},{key:"transform",value:function(t){return this.transformFn=t,this}},{key:"transformKey",value:function(t){return this.outputKey=t,this}},{key:"allowedValues",value:function(t){return this.allowedValuesList=t,this}},{key:"outputType",value:function(t){return this._outputType=t,this}}])}(),Ne=function(t){function e(t,n){var r;return Ae(this,e),(r=ke(this,e,[t])).definitionType="Schema",r.properties=n,r}return Re(e,t),Be(e,[{key:"parse",value:function(t){var n;if(this.properties&&this.properties.length>0)try{n=Ce(e,"parse",this,3)([t||{}])}catch(t){throw""}return Object.freeze(n)}}])}(Ue),Ve=function(t){function e(){return Ae(this,e),ke(this,e,arguments)}return Re(e,t),Be(e,[{key:"parse",value:function(t){return this.validate(t),t}},{key:"stringify",value:function(){var t={};return t[this.name]=this._fieldType,t}}])}(Ue),Ke=function(t){function e(){return Ae(this,e),ke(this,e,arguments)}return Re(e,t),Be(e,[{key:"pattern",value:function(t){return this._pattern=t,this}},{key:"validate",value:function(t){Ce(e,"validate",this,3)([t]);var n=Fe(t);if("string"===n){if(this._pattern&&!t.match(this._pattern))throw"Input ".concat(t," does not match ").concat(this._pattern)}else if("undefined"!==n&&null!=t)throw"Input is not a string"}},{key:"stringify",value:function(){var t=Ce(e,"stringify",this,3)([]),n=this._pattern?" | pattern: ".concat(this._pattern):"";return t[this.name]="".concat(t[this.name]," | type: string").concat(n),t}}])}(Ve),Ge=function(t){function e(){var t;return Ae(this,e),(t=ke(this,e)).definitionType="Object",t}return Re(e,t),Be(e,[{key:"stringify",value:function(){if(this._resolutionType===Ee){var t={};return t["".concat(this.name," (").concat(this._fieldType,")")]=Ce(e,"stringify",this,3)([]),t}return Ce(e,"stringify",this,3)([])}},{key:"substitute",value:function(t){return this.properties=this.properties.concat(t),this._resolutionType="sub",this}},{key:"map",value:function(t,e){return this.name=t,this.properties=this.properties.concat(e),this._resolutionType=Ee,this}},{key:"extend",value:function(t){return t&&(this.properties=this.properties.concat(t)),this}}])}(Ue),He=function(t){function e(){var t;return Ae(this,e),(t=ke(this,e)).definitionType="Collection",t.minElements=0,t}return Re(e,t),Be(e,[{key:"parse",value:function(t){if(this.minElements&&(!t||t.length<this.minElements))throw"";if(void 0!==t){if(!H(t))throw"";return t.map(Ce(e,"parse",this,1).bind(this))}}},{key:"stringify",value:function(){if(this._resolutionType===Ee){var t={};t["".concat(this.minElements,"...n")]=Ce(e,"stringify",this,3)([])["".concat(this.name," (").concat(this._fieldType,")")];var n={};return n["".concat(this.name," (").concat(this._fieldType,")")]=t,n}return Ce(e,"stringify",this,3)([])}},{key:"withMinElements",value:function(t){return this.minElements=t,this._fieldType=t>0?Pe:Se,this}}])}(Ge);function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function We(t){return function(t){if(Array.isArray(t))return $e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $e(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Je(r.key),r)}}function Je(t){var e=function(t){if("object"!=ze(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ze(e)?e:e+""}function Ze(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ze=function(){return!!t})()}function Xe(t,e,n,r){var o=Ye(tn(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Ye(){return Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=tn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ye.apply(null,arguments)}function tn(t){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tn(t)}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}var nn=["_expDataLayer","_signalsDataLayer"],rn=["add_virtual_page_view","set_config","subscribe"],on=function(t){function n(t){var e,r=t.pageViewSchema,o=t.autoPageViewDisabled,i=t.beforeEvent,a=t.immediateSchemas,u=void 0===a?[]:a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e,n){return e=tn(e),function(t,e){if(e&&("object"==ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ze()?Reflect.construct(e,n||[],tn(t).constructor):e.apply(t,n))}(this,n,[nn])).pageViewSchema=r,e.autoPageViewDisabled=o,e.beforeEvent=i,e.immediateSchemas=[rn].concat(We(u)),e._initEvents(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(n,t),r=n,(o=[{key:"push",value:function(t){return this.immediateSchemas.includes(t.schema)?this.process(t):Xe(n,"push",this,3)([t])}},{key:"_initEvents",value:function(){for(var t=!this.autoPageViewDisabled,e=this.asyncCommands.length-1;e>=0;e--){var n=this.asyncCommands[e];n.schema!==this.pageViewSchema||n.data&&n.data.virtual_path||(t=!1),"set_config"===n.schema&&this.process.apply(this,We(this.asyncCommands.splice(e,1)))}t&&this.process({schema:this.pageViewSchema})}},{key:"process",value:function(t){Xe(n,"pushLog",this,3)([t]);try{var r=t.data,o=t.schema||t.interface,i=t.type,a=t.version||"v1",u=t.targets||[],c={eventId:ie()};this.beforeEvent&&this.beforeEvent(),function(){for(;Qt<Ut.length;){var t=Ut[Qt];M(t,(function(t,e){-1===zt.indexOf(t.toLowerCase())&&Jt(t)&&(Zt(t,e),$t[t]=e)})),Qt++}}(),function(t,e,n,r,o,i){var a=function(t,e,n){var r=ge[t];if(r)return r.getInterface(t,n,e)}(t,e,n),u=new Ne(t,a.properties).parse(r)||{},c=new a.handler(u,e,n,o,i);c.preProcess(u),c.process(u)}(o,i,a,r,c,u)}catch(n){var f=["Unable to process",t,"\n\n"];T.apply(e,f.concat(n))}}}])&&Qe(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(se);function an(t){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(t)}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cn(r.key),r)}}function cn(t){var e=function(t){if("object"!=an(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==an(e)?e:e+""}function fn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fn=function(){return!!t})()}function sn(){return sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ln(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},sn.apply(null,arguments)}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}function pn(t,e){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pn(t,e)}var yn=["_trfq"],bn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e,n){return e=ln(e),function(t,e){if(e&&("object"==an(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fn()?Reflect.construct(e,n||[],ln(t).constructor):e.apply(t,n))}(this,e,[yn])).handlers=t,n.start(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}(e,t),n=e,r=[{key:"process",value:function(t){var n,r,o;(n=e,r=this,"function"==typeof(o=sn(ln(1&3?n.prototype:n),"pushLog",r))?function(t){return o.apply(r,t)}:o)([t]);try{var i=Array.prototype.slice.call(t,1),a=t[0];this.handlers[a]?this.handlers[a].apply(null,i):T("Invalid command sent to data layer",this.dataLayerName,t)}catch(r){T("Unable to process",t,r)}}}],r&&un(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(se);const vn=new X;var dn,mn,hn,gn=function(t,e,n,r){var o=v("cookie","sameSite")||"",i=new Date;i.setTime(i.getTime()+60*n*1e3),l().cookie="".concat(t,"=").concat(encodeURI(e),"; domain=").concat(b(),"; ")+(n?"expires=".concat(i.toGMTString(),"; "):"")+(r?"path=".concat(r,"; "):"")+(o?"SameSite=".concat(o,"; "):"")+("NONE"===o.toUpperCase()?" Secure;":"")},wn=function(t){var e=l().cookie;return mn!==e&&(hn=function(t){for(var e=t.split(";"),n=Object.create(null),r=0;r<e.length;r++){var o=/^\s*([^=]+)\s*=\s*(.*)$/.exec(e[r]);if(o&&o[2]){var i=o[1].trim(),a=decodeURIComponent(o[2].trim());n[i]=a}}return n}(e),mn=e),hn[t]},On=function(t){var e=wn(t);return N(e,"&","=")},jn=function(){var t,e=l().querySelector("meta[name='gd:traceId']");return e&&(t=e.getAttribute("content")),t&&!Ft.get("tcc.disablePageTracing")?{trace_id:t,traced:1}:{trace_id:ie().replace(/-/g,"")}};function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pn(r.key),r)}}function Pn(t){var e=function(t){if("object"!=_n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_n(e)?e:e+""}var En=function(){return t=function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.interfaceType=n,this.interfaceVersion=r,this.internal=o,this.targets=i},(e=[{key:"preProcess",value:function(t){}},{key:"process",value:function(t){}}])&&Sn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function Tn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Cn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Rn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rn(t,e,n){return(e=An(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,An(r.key),r)}}function An(t){var e=function(t){if("object"!=kn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kn(e)?e:e+""}var Dn=function(){return t=function t(e){var n=e.contextFnMap,r=e.paramsFnMap,o=void 0===r?{}:r,i=e.windowName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contextFnMap=n,this._paramsFnMap=o,this._windowName=i},(e=[{key:"init",value:function(t){var e=t.context,n=void 0===e?{}:e,r=t.contextFnMap,o=void 0===r?{}:r,i=t.paramsFnMap,a=void 0===i?{}:i;this.version=0,this.context=n,this._initialContext=xn({},n),this._contextMap={},this._contextFnMap=F(this._contextFnMap,o),this._paramsFnMap=F(this._paramsFnMap,a)}},{key:"_buildContext",value:function(t){var e=xn({},this._initialContext);return Object.entries(t).forEach((function(t){var n,r=Tn(t,2),o=r[0],i=r[1],a=o.split("."),u=e;a.forEach((function(t,e){e<a.length-1?(u[t]=u[t]||{},u=u[t]):n=t})),u[n]=i})),e}},{key:"updateContext",value:function(){var t=this;if(this._contextFnMap){var e=!1,n={},r={};Object.entries(this._paramsFnMap).forEach((function(t){var e=Tn(t,2),n=e[0],o=e[1];try{r[n]=o()}catch(t){T("Error executing paramsFnMap for key: ".concat(n),t)}})),Object.entries(this._contextFnMap).forEach((function(o){var i=Tn(o,2),a=i[0],u=(0,i[1])(r);t._contextMap[a]!==u&&(e=!0),void 0!==u&&(n[a]=u)})),e&&(this.version++,this.context=K(this._buildContext(n)),this._contextMap=n,this._windowName&&R(this._windowName,this.context))}}}])&&Ln(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Bn={"godaddy.com":1,"mediatemple.net":4500,"afternic.com":497036},Mn=[function(){return Vt("site","privateLabelId")},function(){return _("plid")},function(){var t=b().replace("dev-","").replace("test-","").replace("stg-","");if(Bn.hasOwnProperty(t))return Bn[t]}];function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Un(r.key),r)}}function Un(t){var e=function(t){if("object"!=Fn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fn(e)?e:e+""}function Nn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nn=function(){return!!t})()}function Vn(){return Vn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Kn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Vn.apply(null,arguments)}function Kn(t){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kn(t)}function Gn(t,e){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gn(t,e)}var Hn={"client.userAgent":function(){return p().userAgent},"client.sdk.name":function(){return Vt("client","name")},"client.sdk.version":function(){return Vt("client","version")},"client.device.viewportWidth":function(t){var e=t.win,n=t.doc;return w(e.innerWidth?e.innerWidth:n.body.offsetWidth)},"client.device.viewportHeight":function(t){var e=t.win,n=t.doc;return w(e.innerHeight?e.innerHeight:n.body.offsetHeight)},"client.device.screenResolutionWidth":function(t){var e=t.win;return w(e.screen.width)},"client.device.screenResolutionHeight":function(t){var e=t.win;return w(e.screen.height)},"page.id":function(){return Vt("page","id")},"page.traceId":function(){return vn.get("trace_id")},"page.contentGroup":function(){return function(){var t=Vt("page","contentGroup");if("string"!=typeof t)return t;for(var e=t.split("/"),n=e.length-1;n>=0;n--)e[n]=e[n].trim(),e[n]||e.splice(n,1);if(e.length>0)for(;e.length<3;)e.push("Other");return e.join(" / ")}()},"page.host":function(){return y()},"page.path":function(t){return t.win.location.pathname},"page.virtualPath":function(){return vn.get("virtual_path")},"page.location":function(){return n=(t=j()).length?(function(t){for(var e=0;e<t.length;e++){var n=t[e].split("="),r=!1,o=n[1];o!==decodeURIComponent(n[1])&&(o=decodeURIComponent(n[1]),r=!0);var i=m(o);r&&(i=encodeURIComponent(i)),t[e]="".concat(n[0],"=").concat(i)}}(t),"?"+t.join("&")):"",(r=s().location)&&(e="".concat(r.protocol,"//").concat(r.hostname).concat(r.pathname)),n&&(e="".concat(e).concat(n)),e;var t,e,n,r},"page.referrer":function(t){return t.doc.referrer},"site.privateLabelId":function(){return function(){for(var t=0;t<Mn.length;t++){var e=Mn[t]();if(e&&O(e))return w(e)}}()}},zn={win:s,doc:l};const Wn=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Kn(e),function(t,e){if(e&&("object"==Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nn()?Reflect.construct(e,n||[],Kn(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gn(t,e)}(e,t),n=e,r=[{key:"init",value:function(t){var n,r,o,i=t.traceId,a=t.contextFnMap,u=t.paramsFnMap;(n=e,r=this,"function"==typeof(o=Vn(Kn(1&3?n.prototype:n),"init",r))?function(t){return o.apply(r,t)}:o)([{context:{traceId:i},contextFnMap:a,paramsFnMap:u}])}}],r&&qn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Dn))({contextFnMap:Hn,paramsFnMap:zn,windowName:"globalContext"});var $n="experiments";const Qn=new X,Jn=new Dn({contextFnMap:{experiments:function(){return Qn.get("experiments")}}});var Zn=["events"];function Xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Yn={},tr=["routing","webContext"],er=function(t,e,n){var r=e.callback;setTimeout((function(){try{r(n)}catch(e){T("Failed to push datalayer event to subscriber (".concat(t,") callback"),e)}}),0)},nr=function(t,e,n){var r=e.schemaIds,o=function(t,e){e.events;var n=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,Zn),r=t.fields||[];return tr.forEach((function(t){r.includes(t)||delete n[t]})),n}(e,n);e.batch?(o.events=r?n.events.filter((function(t){return r.includes(t.schemaId)})):n.events,o.events.length>0&&er(t,e,o)):n.events.forEach((function(n){r&&!r.includes(n.schemaId)||er(t,e,F(o,{event:n}))}))},rr=function(t,e){var n=ar();n.length>=or&&C("".concat(t," subscribed to SCC after the eventQueue was full. Some events may have been lost.")),n.forEach((function(n){return nr(t,e,n)})),Yn[t]=e},or=2e3,ir=[],ar=function(){return[].concat(ir)},ur="urn:shared:user:event:/data-platform/signals/click/v1",cr="urn:shared:user:event:/data-platform/signals/impression/v1",fr="urn:shared:user:event:/data-platform/signals/element-action/v1",sr="urn:shared:user:event:/data-platform/signals/traffic-event/v1",lr="urn:shared:user:event:/data-platform/signals/experiment-assignment/v1",pr="urn:shared:user:event:/appconfig/id-percentage-evaluation/v1",yr=function(t){var e,n,r=t.globalSchemaId,o=t.businessContext,i=t.events,a=t.webContext,u=t.routing,c=void 0===u?{}:u,f=c.eventBusApiKey,s=c.hasConversion,l=c.targets;if(H(i)&&0!==i.length){for(var p,y=G(),b=0;b<i.length;b++)i[b].data=F({eventCreationTimestamp:y},i[b].data);Wn.updateContext(),Jn.updateContext(),n={schemaId:r||(p=null===(e=Wn.context.site)||void 0===e?void 0:e.privateLabelId,p?"urn:shared:user:events:/v2":"urn:shared:user:events:/v1"),global:Wn.context,businessContext:o,events:i,webContext:F(Jn.context,a),routing:{eventBusApiKey:f||v("eventBus","sccApiKey"),globalContextVersion:Wn.version,hasConversion:s,targets:l}},K(n),ir.push(n),function(t){for(var e=0,n=Object.entries(Yn);e<n.length;e++){var r=(u=2,function(t){if(Array.isArray(t))return t}(a=n[e])||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(a,u)||function(t,e){if(t){if("string"==typeof t)return Xn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(t,e):void 0}}(a,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];try{nr(o,i,t)}catch(t){T("Failed to push datalayer event batch to subscriber (".concat(o,")"),t)}}var a,u}(n),ir.length>or&&ir.shift()}};function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dr(r.key),r)}}function dr(t){var e=function(t){if("object"!=br(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==br(e)?e:e+""}function mr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mr=function(){return!!t})()}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hr(t)}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}var wr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=hr(e),function(t,e){if(e&&("object"==br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mr()?Reflect.construct(e,n||[],hr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){this._pushToQueue(t)}},{key:"_pushToQueue",value:function(t){this.internal.hasFired||(yr({globalSchemaId:this._getGlobalSchemaId(),businessContext:this._getBusinessContext(),events:this._getEvents(t),webContext:this._getWebContext(t),routing:{eventBusApiKey:this._getApiKey(),hasConversion:this._hasConversion(),targets:this.targets}}),this.internal.hasFired=!0)}},{key:"_getSchemaId",value:function(){}},{key:"_getEvents",value:function(t){return[{schemaId:this._getSchemaId(),data:t}]}},{key:"_getGlobalSchemaId",value:function(){}},{key:"_getBusinessContext",value:function(){}},{key:"_getApiKey",value:function(){}},{key:"_hasConversion",value:function(){}},{key:"_getWebContext",value:function(t){}}])&&vr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(En);function Or(t){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(t)}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_r(r.key),r)}}function _r(t){var e=function(t){if("object"!=Or(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Or(e)?e:e+""}function Sr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Sr=function(){return!!t})()}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pr(t)}function Er(t,e){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Er(t,e)}const kr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Pr(e),function(t,e){if(e&&("object"==Or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Sr()?Reflect.construct(e,n||[],Pr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Er(t,e)}(e,t),n=e,(r=[{key:"_getBusinessContext",value:function(){return this.input.businessContext}},{key:"_getEvents",value:function(){return this.input.events}},{key:"_getApiKey",value:function(){return this.input.apiKey}},{key:"_getGlobalSchemaId",value:function(){return this.input.schemaId}}])&&jr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(wr);var Tr=/[^a-z0-9\_\/\.\-]/g,Cr=/^([a-z0-9_\-]+)\.([a-z0-9_\-]+)\.(([a-z0-9_\/\-]+)\.)?([a-z0-9_\/\-]+)\.([a-z0-9_\-]+)\.([a-z0-9_\-]+)$/g,Ir=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.eid,n=t.customProperties,r=t.eventCategory;return F({pageLevelProperties:F($t),identityRealm:Vt("identity","realm")},e&&{eid:e},n&&{customProperties:n},r&&{eventCategory:r})},xr=function(t,e,n,r){var o={traffic:Ir({eid:e,customProperties:r}),producerEventId:t};if(e){var i=function(t){return t.split(".")}(e),a=function(t){return t[t.length-1]}(i);(function(t){return!!(t.match(Cr)&&t.length<=500)})(e)&&function(t,e,n){return e===n&&t.length>=5&&t.length<=6}(i,a,n)&&(o.element=function(t,e){var n=6===t.length?1:0,r={area:t[0],product:t[1],section:t[2+n],widget:t[3+n]};return["impression","click"].includes(e)||(r.action=e),r}(i,a))}return o},Rr=function(t,e,n,r){null!=r&&null!=n&&0!==r&&0!==n&&n>r&&(t[e]=Math.round(n-r))},Lr=function(t,e,n,r){var o=it(e);!function(t,e){Rr(t,"pageLoadTime",e.loadEventStart,e.navigationStart),Rr(t,"domContentLoadedTime",e.domContentLoadedEventStart,e.navigationStart),Rr(t,"domInteractiveTime",e.domInteractive,e.navigationStart),Rr(t,"pageDownloadTime",e.responseEnd,e.responseStart),Rr(t,"domainLookupTime",e.domainLookupEnd,e.domainLookupStart),Rr(t,"serverResponseTime",e.responseStart,e.requestStart),Rr(t,"serverConnectionTime",e.connectEnd,e.connectStart),Rr(t,"redirectionTime",e.fetchStart,e.navigationStart)}(o,e);var i={navigationType:e.navigationType,timing:{navigation:o},traffic:Ir({customProperties:n}),producerEventId:t,contentLoadType:r};return"hard"===r&&(i.response=at(e),i.timing.marks=e.marks,i.timing.measures=e.measures,i.timing.paint={firstPaint:e.fp,firstContentfulPaint:e.fcp,largestContentfulPaint:e.lcp}),i},Ar=function(t,e,n){return{timing:{paint:{largestContentfulPaint:e.LCP},vitals:{cumulativeLayoutShift:e.CLS,firstInputDelay:e.FID,timeToInteractive:e.timeToInteractive,interactionToNextPaint:e.INP}},traffic:Ir({customProperties:n}),producerEventId:t}};function Dr(t){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(t)}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mr(r.key),r)}}function Mr(t){var e=function(t){if("object"!=Dr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dr(e)?e:e+""}function Fr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fr=function(){return!!t})()}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(t)}function Ur(t,e){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ur(t,e)}const Nr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=qr(e),function(t,e){if(e&&("object"==Dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fr()?Reflect.construct(e,n||[],qr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ur(t,e)}(e,t),n=e,r=[{key:"_getSchemaId",value:function(){return fr}},{key:"_getActionType",value:function(t){return t.element.action}},{key:"_getEvents",value:function(t,e){var n=t.traffic||{};return n.eid=this._buildLegacyEid(this._getActionType(t),t.element,n.eid),[{schemaId:this._getSchemaId(),data:F(t,{producerEventId:e||this.internal.eventId,element:t.element,traffic:Ir(n)})}]}},{key:"_buildLegacyEid",value:function(t,e){return arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(e.area,".").concat(e.product,".").concat(e.section,".").concat(e.widget,".").concat(t)}},{key:"_transformLegacyPromo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.eid,o=n.customProperties,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{id:i.id,name:i.name,creative_name:i.creative,creative_slot:i.position,type:t,properties:o,eid:this._buildLegacyEid(t,e,r)}}},{key:"_isPromo",value:function(t){return t.promotion&&Object.keys(t.promotion).length>0}}],r&&Br(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(wr);function Vr(t){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(t)}function Kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gr(r.key),r)}}function Gr(t){var e=function(t){if("object"!=Vr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vr(e)?e:e+""}function Hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hr=function(){return!!t})()}function zr(t){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zr(t)}function Wr(t,e){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wr(t,e)}const $r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=zr(e),function(t,e){if(e&&("object"==Vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Hr()?Reflect.construct(e,n||[],zr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wr(t,e)}(e,t),n=e,(r=[{key:"_getSchemaId",value:function(){return ur}},{key:"_getActionType",value:function(){return"click"}}])&&Kr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Nr);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function Jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xr(r.key),r)}}function Xr(t){var e=function(t){if("object"!=Qr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qr(e)?e:e+""}function Yr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yr=function(){return!!t})()}function to(){return to="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=eo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},to.apply(null,arguments)}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eo(t)}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},no(t,e)}const ro=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=eo(e),function(t,e){if(e&&("object"==Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yr()?Reflect.construct(e,n||[],eo(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(e,t),n=e,r=[{key:"_getSchemaId",value:function(){return cr}},{key:"_getActionType",value:function(){return"impression"}},{key:"_getEvents",value:function(t){var n=this,r=[];return t.impressions.forEach((function(t){var o,i,a;r.push.apply(r,function(t){return function(t){if(Array.isArray(t))return Jr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Jr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((o=e,i=n,"function"==typeof(a=to(eo(1&3?o.prototype:o),"_getEvents",i))?function(t){return a.apply(i,t)}:a)([t,ie()])))})),r}}],r&&Zr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Nr);function oo(t){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(t)}function io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ao(r.key),r)}}function ao(t){var e=function(t){if("object"!=oo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==oo(e)?e:e+""}function uo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uo=function(){return!!t})()}function co(t){return co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},co(t)}function fo(t,e){return fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fo(t,e)}var so=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=co(e),function(t,e){if(e&&("object"==oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uo()?Reflect.construct(e,n||[],co(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){q(t.config),M(t.config,(function(e,n){if(!t.overwrite){var r=Ft.get(e);H(r)?n=[].concat(r,n):"object"===oo(r)&&(n=F(r,n))}Ft.set(e,n)}))}}])&&io(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(En);function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yo(r.key),r)}}function yo(t){var e=function(t){if("object"!=lo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lo(e)?e:e+""}function bo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bo=function(){return!!t})()}function vo(t){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(t)}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mo(t,e)}var ho=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=vo(e),function(t,e){if(e&&("object"==lo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bo()?Reflect.construct(e,n||[],vo(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){rr(t.name,{callback:t.callback,schemaIds:t.schemaIds,batch:t.batch,fields:t.fields})}}])&&po(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(En);function go(t){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oo(r.key),r)}}function Oo(t){var e=function(t){if("object"!=go(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==go(e)?e:e+""}function jo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jo=function(){return!!t})()}function _o(t,e,n,r){var o=So(Po(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function So(){return So="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Po(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},So.apply(null,arguments)}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eo(t,e)}var ko,To,Co=function(t){var e={};if(H(t))for(var n=0;n<t.length;n++){var r=t[n];H(r)&&(e[r[0]]=U(r))}return e},Io=function(t){return N(t,"^",",")},xo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Po(e),function(t,e){if(e&&("object"==go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jo()?Reflect.construct(e,n||[],Po(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(e,t),n=e,(r=[{key:"setTDataString",value:function(t){_o(e,"merge",this,3)([Io(t)])}},{key:"stringify",value:function(){var t,e=q(this.getProperties());(t=e)&&M(t,(function(e,n){var r=(e+"").split(".").join("_");delete t[e],t[r]=n}));var n=V(e,"^",",");if(n)return n}},{key:"set",value:function(t,n){"object"!==go(n)&&"[object Function]"!=={}.toString.call(n)?_o(e,"set",this,3)([t,n]):T("Invalid key/value pair found in Traffic's custom properties (tData). Objects, arrays, and functions are not supported.\n\nKey: '".concat(t,"' Value: '").concat(n,"' Type: '").concat(go(n),"'."))}}])&&wo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(X),Ro=function(t){var e=new xo;return e.merge(t.custom_properties),t.traffic&&e.merge(t.traffic.customProperties),e},Lo=function(t){var e=t.traffic;return e&&function(t,e){var n=t.eid||e&&e();if(!n)throw"";if(t.eid=n.toLowerCase(),function(t){return t.match(Tr)}(t.eid))throw t.eid,""}(e),t};function Ao(t){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(t)}function Do(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bo(r.key),r)}}function Bo(t){var e=function(t){if("object"!=Ao(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ao(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ao(e)?e:e+""}function Mo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mo=function(){return!!t})()}function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(t)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}var Uo=0,No=function(){var t=Ft.get("components");if(To!==t)return To=t},Vo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Fo(e),function(t,e){if(e&&("object"==Ao(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mo()?Reflect.construct(e,n||[],Fo(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}(e,t),n=e,(r=[{key:"_getWebContext",value:function(){return{pageViewCount:Uo}}},{key:"_getEvents",value:function(t){var e=Ro(t);return[{schemaId:"urn:shared:user:event:/data-platform/signals/page-view/v1",data:{forensics:{traceIdAdopted:g(vn.get("traced")),components:No()},traffic:Ir({customProperties:e.getProperties()}),producerEventId:this.internal.eventId}}]}},{key:"preProcess",value:function(t){var e=t.path||t.virtual_path||t.virtualPath,n=void 0!==e;if(n||(e=s().location.pathname),ko===e)throw"cmd: LogPageRequest duplicate page request detected, ignoring duplicate path";ko=e,vn.set("corrid",Math.floor(2147483647*Math.random())),n&&(Xt(),vn.set("virtual_path",e)),dn.incrementPageCount(),Uo+=1,vn.get("trace_id")||vn.merge(jn())}}])&&Do(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(wr),Ko=function(t){return[(new Ge).map("element",[new Ke("area").required().pattern(je),new Ke("product").required().pattern(je),new Ke("section").required().pattern(_e),new Ke("widget").required().pattern(je)]).required().extend(t)]},Go=function(t){return[(new Ge).map("traffic",[new Ve("customProperties")]).extend(t)]},Ho=function(){return[(new Ge).substitute(Go([new Ve("eid")]))]},zo=function(){return[(new Ge).substitute(Ko()),(new Ge).substitute(Ho()),(new Ge).map("promotion",[new Ve("id").required(),new Ve("name"),new Ve("creative"),new Ve("position")]),(new Ge).map("product",[new Ve("actionCode").required().allowedValues(["add_to_cart","product_detail"]),(new Ge).map("basket",[new Ve("couponCode"),new Ve("currencyCode"),new Ve("itemTrackingCode")]),(new He).map("products",[new Ve("productId").required(),new Ve("productName"),new Ve("productInstanceId"),new Ve("priceUsd"),new Ve("quantity").required(),new Ve("couponCode"),new Ve("itemTrackingCode")]),(new He).map("packages",[new Ve("id"),new Ve("priceUsd"),new Ve("quantity"),new Ve("category")])])]};const Wo={add_click:{v1:{handler:$r,properties:[(new Ge).substitute(zo()).transform(Lo)]}},add_element_action:{v1:{handler:Nr,properties:[(new Ge).substitute([(new Ge).substitute(Ko([new Ve("action").required().allowedValues(["blur","drag","focus","hover","load","scroll"])])),(new Ge).substitute(Ho())]).transform(Lo)]}},add_impressions:{v1:{handler:ro,properties:[(new He).map("impressions",[(new Ge).substitute(zo()).transform(Lo)]).withMinElements(1)]}},add_virtual_page_view:{v1:{handler:Vo,properties:[new Ve("virtualPath").required(),(new Ge).substitute(Go())]}},add_micro_events:{v1:{handler:kr,properties:[new Ve("apiKey").required(),new Ve("schemaId").required(),(new He).map("events",[new Ve("schemaId").required(),new Ve("data").required()]).withMinElements(1),(new Ge).map("businessContext",[new Ve("schemaId").required(),new Ve("data").required()])]}},subscribe:{v1:{handler:ho,properties:[new Ve("name").required(),new Ve("callback").required(),new Ve("schemaIds"),new Ve("fields"),new Ve("batch")]}},set_config:{v1:{handler:so,properties:[(new Ge).map("config",[(new He).map("components",[new Ve("name").required(),new Ve("version").required().outputType(Oe)]),(new He).map("experiments",[new Ve("id").required(),new Ve("variant").required()]),(new Ge).map("cookie",[new Ve("sameSite")]),(new Ge).map("page",[new Ve("spa"),new Ve("id"),new Ve("contentGroup"),new Ve("referrerExclusion")]),(new Ge).map("identity",[new Ve("realm")]),(new Ge).map("site",[new Ve("privateLabelId")]),(new Ge).map("timing",[new Ve("auto")])]).required(),new Ve("overwrite")]}}};function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function Qo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qo(Object(n),!0).forEach((function(e){Zo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zo(t,e,n){return(e=function(t){var e=function(t){if("object"!=$o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xo=function(t){var e=Qn.get($n)||{};Qn.set($n,Jo(Jo({},e),t))},Yo=function(t){var e=t.event,n=e.schemaId,r=e.data,o=r.experimentId,i=r.variantId,a=r.fqAppId,u=r.settingValue,c=r.setting;if(n===lr)Xo(Zo({},o,i));else if(n===pr&&"hivemind"===a){var f=JSON.parse(u);Xo(Zo({},c,f.cohortId))}};function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach((function(e){ri(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ri(t,e,n){return(e=function(t){var e=function(t){if("object"!=ti(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ti(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oi=!1,ii=function(t){var e=t.trfqMethods,n=t.legacyName,r=t.dataLayerConfig,o=t.globalContextConfig,i=t.hooks,a=i.onLoad,u=i.beforeLoad,c=i.beforeEvent,f=i.getEnvironment;if(!oi){oi=!0,Kt("build","env",f&&f()||Vt("build","env")),vn.merge(jn()),Wn.init(ni({traceId:vn.get("trace_id")},o)),we(Wo),function(){var t=s();if(t.PerformanceObserver){var e=new t.PerformanceObserver((function(t){var e=t.getEntries(),n=e[e.length-1];n.renderTime&&(tt.lcp=Math.round(n.startTime))}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}}}();var p=new bt("complete"===l().readyState,(function(t){s().addEventListener("load",t)})),y=dn.getSession();u&&u();var b=new on(ni({autoPageViewDisabled:Ft.get("".concat(n,".manualPageRequest")),beforeEvent:c},r));p.registerOnLoadFn((function(){var t,r,o;a&&a(),b.start(),(t=Vt("experiments"))&&Xo(t.reduce((function(t,e){return t[e.id]=e.variant,t}),{})),rr("scc-experiment-tracker",{callback:Yo,schemaIds:[lr,pr]}),new bn(e),Vt("timing","auto")&&function(t,e,n){if(!st)if(st=!0,ft())ct(t,ut(t,e),n);else var r=setInterval((function(){ft()&&(clearInterval(r),ct(t,ut(t,e),n))}),250)}(n,"auto"),Vt("eventBus","enabled")&&(R(kt,[]),Et=new Pt(Tt),s()._signalsDataLayer=s()._signalsDataLayer||[],s()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-event-bus",batch:!0,fields:["routing"],callback:function(t){var e=t.schemaId,n=t.global,r=t.businessContext,o=t.events,i=t.routing,a=i.eventBusApiKey,u=i.hasConversion,c=i.globalContextVersion;Et.pushEvent({apiKey:a,businessContext:r,contextVersion:c,schemaId:e,global:n,events:o},u)}}})),r=Vt("cdep","appId"),o=y.visitorGuid,r&&yr({events:[{schemaId:"urn:shared:user:event:/cdep/app-evaluation/v1",data:{cdepAppId:r,bucketingId:o,bucketingIdType:"visitorId",commitHash:Vt("client","hash")}}]})})),k("SCC STARTED",Ft.getProperties())}};function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ci(r.key),r)}}function ci(t){var e=function(t){if("object"!=ai(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ai(e)?e:e+""}function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bi(r.key),r)}}function li(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(li=function(){return!!t})()}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(t)}function yi(t,e){return yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yi(t,e)}function bi(t){var e=function(t){if("object"!=fi(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fi(e)?e:e+""}var vi="_tccl_visitor",di="_tccl_visit",mi=function(t){function e(){var t,n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return t=function(t,e,n){return e=pi(e),function(t,e){if(e&&("object"==fi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,li()?Reflect.construct(e,n||[],pi(t).constructor):e.apply(t,n))}(this,e,[].concat(a)),n=t,o="_scc_session",(r=bi(r="_sessionCookieName"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yi(t,e)}(e,t),n=e,(r=[{key:"getSession",value:function(){var t=wn(vi),e=wn(di);t||e?(t||(t=ie()),e||(e=ie())):t=e=ie(),gn(vi,t,525600,"/"),gn(di,e,30,"/");var n=On(this._sessionCookieName);return{visitorGuid:t,visitGuid:e,pageCount:w(n.pc)||0}}}])&&si(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(function(){return t=function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=void 0,(n=ci(n="_sessionCookieName"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r},(e=[{key:"getSession",value:function(){}},{key:"saveSessionCookie",value:function(t){var e=V(t,"&","=");gn(this._sessionCookieName,e,20,"/")}},{key:"incrementPageCount",value:function(){var t=On(this._sessionCookieName),e=w(t.pc)||0;t.pc=e+1,t.C_TOUCH=G(),this.saveSessionCookie(t)}}])&&ui(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}());function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wi(r.key),r)}}function wi(t){var e=function(t){if("object"!=hi(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==hi(e)?e:e+""}function Oi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oi=function(){return!!t})()}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(t)}function _i(t,e){return _i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_i(t,e)}var Si=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ji(e),function(t,e){if(e&&("object"==hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Oi()?Reflect.construct(e,n||[],ji(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_i(t,e)}(e,t),n=e,(r=[{key:"_getEvents",value:function(t){var e=t.eid,n=t.type.toLowerCase(),r=function(t){return"click"===t?ur:"impression"===t?cr:["blur","drag","focus","hover","load","scroll"].includes(t)?fr:sr}(n),o=Ro(t).getProperties();return[{schemaId:r,data:r!==sr?xr(this.internal.eventId,e,n,o):{traffic:Ir({customProperties:o,eid:e,eventCategory:n}),producerEventId:this.internal.eventId}}]}}])&&gi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(wr);function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function Ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ki(r.key),r)}}function ki(t){var e=function(t){if("object"!=Pi(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Pi(e)?e:e+""}function Ti(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ti=function(){return!!t})()}function Ci(t){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ci(t)}function Ii(t,e){return Ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ii(t,e)}var xi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ci(e),function(t,e){if(e&&("object"==Pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ti()?Reflect.construct(e,n||[],Ci(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ii(t,e)}(e,t),n=e,(r=[{key:"_getApiKey",value:function(){return v("eventBus","rigorApiKey")}},{key:"_getEvents",value:function(t){var e=t.is_hard_navigation?"hard":"soft",n=t.timing_object;if(n){if(n.navigationStart)return[{schemaId:"urn:shared:user:event:/rigor/page-navigation/v1",data:Lr(this.internal.eventId,n,t.custom_properties,e)}];if(n.timeToInteractive)return[{schemaId:"urn:shared:user:event:/rigor/page-navigation-delayed/v1",data:Ar(this.internal.eventId,n,t.custom_properties)}]}}}])&&Ei(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(wr),Ri=function(){return[new Ve("custom_properties").optional()]};const Li={add_event:{v1:{handler:Si,properties:[new Ve("type").required(),(new Ge).substitute([new Ve("eid").optional()]),(new Ge).substitute(Ri())]}},add_page_view:{v1:{handler:Vo,properties:[new Ve("path").optional(),(new Ge).substitute(Ri())]}},add_perf:{v1:{handler:xi,properties:[new Ve("timing_object").required(),new Ve("is_hard_navigation").optional(),(new Ge).substitute(Ri())]}}},Ai=function(t,e,n){s()._expDataLayer.push({schema:"add_event",version:"v1",data:{type:t,eid:e,custom_properties:Co(n)}})},Di=function(t,e){s()._expDataLayer.push({schema:"add_perf",version:"v1",data:{timing_object:t,custom_properties:Co(e)}})};var Bi,Mi={session:function(){return dn.getSession()}},Fi={pageCorrelationId:function(){return vn.get("corrid")}},qi="tccl";return Bi=new mi,dn=Bi,we(Li),function(t){var e=t.legacyName,n=t.configManagerProps,r=t.hooks.beforeInit;!function(){try{var o,i=l().cookie;Object.defineProperty(document,"cookie",{get:function(){return i},set:function(t){(o=o||Object.getOwnPropertyDescriptor(Document.prototype,"cookie")).set.call(document,t),i=o.get.call(document)},configurable:!0,enumerable:!0}),function(){if(a=p().userAgent.toLowerCase(),!/msie [1-8]\./.test(a))if(i="_".concat(e,"Internal"),c=i,void 0!==s()[c]||(s()[c]={},0))T("SCC Library has already been loaded on page");else if(function(t){var e=t.dataLayerName,n=t.clientConfigPrefixes,r=t.ignoredProperties,o=t.legacyName;qt=o,zt=r||[],Nt=e,Ht=n,Ut=s()[Nt]||[],L(Nt,Ut),R("".concat(Nt,"Log"),Wt),Xt()}(n),r&&r(),"off"!==Ft.get("".concat(e,".status"))){var o=l();"prerender"!==o.visibilityState?ii(t):o.addEventListener("visibilitychange",(function(){"prerender"!==o.visibilityState&&"unloaded"!==o.visibilityState&&ii(t)}))}var i,a}()}finally{delete l().cookie}}()}({legacyName:qi,trfqMethods:n,configManagerProps:{legacyName:qi,dataLayerName:"_trfd",clientConfigPrefixes:[qi]},dataLayerConfig:{pageViewSchema:"add_page_view",autoPageViewDisabled:!1,immediateSchemas:["add_page_view"]},globalContextConfig:{contextFnMap:{"context.userType":function(){return"c2"},"context.visitorId":function(t){return t.session.visitorGuid},"context.sessionId":function(t){return t.session.visitGuid},"page.sessionPageViewCount":function(t){return t.session.pageCount}},paramsFnMap:Mi},hooks:{getEnvironment:function(){var t=Ft.get("".concat(qi,".baseHost"));if(t)return"secureserver.net"===t?"prod":"test-secureserver.net"===t?"test":"dev"},beforeLoad:function(){Jn.init({contextFnMap:Fi})}}}),{}})()));